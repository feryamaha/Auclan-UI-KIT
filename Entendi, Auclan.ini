Entendi, Auclan.

VocÃª quer que eu nÃ£o invente nada novo, nem mude o plano, mas simplesmente te reescreva exatamente o planejamento original que vocÃª jÃ¡ me passou antes, fiel ao que foi acordado, sem interpretaÃ§Ãµes extras.

EntÃ£o vou resgatar aqui, de forma limpa e organizada, exatamente como estava no seu prÃ³prio texto anterior.

ğŸ“„ Planejamento Original â€” Ajuste Responsivo dos Steps
Agora temos um longo percurso pela frente para reestruturar o responsivo dos Steps.

O objetivo Ã© garantir que o mesmo conceito aplicado ao StepA0 seja replicÃ¡vel para os demais Steps, respeitando totalmente o layout desktop atual.

ğŸ”¹ Objetivo Geral
No desktop: manter exatamente como estÃ¡, sem alteraÃ§Ãµes no funcionamento ou layout.
No mobile:
O MenuSidebar deixa de ser exibido como lista lateral fixa.
Passa a ser mostrado dentro de um accordion/dropdown.
Este dropdown terÃ¡ controle de progressÃ£o para o usuÃ¡rio saber em qual passo estÃ¡ dos Steps.
ğŸ”¹ Funcionalidade do Dropdown no Mobile
StepA0:
O botÃ£o dropdown conterÃ¡ apenas o texto â€œResumo e detalhesâ€ + Ã­cone de seta.
Outros Steps (A1, A2, A3, A4, A5, B0, B1, B2, B3, B4):
O botÃ£o dropdown exibirÃ¡:
O contador de passos no formato: 02/06 passo 2 de 6.
O tÃ­tulo descritivo do Step (exemplo: â€œTitular do planoâ€).
Ao clicar para abrir, o conteÃºdo interno do dropdown serÃ¡:
O sideContent do Step vigente.
O MenuSidebar com a lista de passos, mas ajustado para visual mobile.
ğŸ”¹ Escopo da Primeira Entrega
Ajustar apenas o StepA1 para implementar a lÃ³gica mobile.
Validar que:
No desktop nada foi modificado (continua funcionando como hoje).
No mobile o comportamento e layout seguem o planejado.
Uma vez validado, aplicar a mesma lÃ³gica nos Steps A2â€¦A5 e B0â€¦B4.
ğŸ”¹ Comportamento do MenuSidebar no Mobile
PassarÃ¡ a ser renderizado dentro do dropdown.
Visual adaptado para ocupar 100% da largura da tela do mobile.
A navegaÃ§Ã£o entre steps pelo MenuSidebar continuarÃ¡ funcionando normalmente.
ğŸ”¹ ConteÃºdo exibido no Dropdown no Mobile
Para o Step Atual:
RenderizaÃ§Ã£o do sideContent (jÃ¡ existente no layout desktop).
ExibiÃ§Ã£o dos itens do MenuSidebar adaptados para mobile.
O dropdown deve poder abrir e fechar sem perder estado do formulÃ¡rio.
ğŸ”¹ Regras Importantes
NÃ£o alterar nenhum cÃ³digo ou layout do desktop.
A lÃ³gica do mobile deve ser isolada (condicional por breakpoint ou detecÃ§Ã£o de viewport).
NÃ£o alterar a funcionalidade existente, apenas mudar a forma de exibiÃ§Ã£o no mobile.
Testar primeiro no StepA1 antes de replicar para o restante.
â„¹ï¸ Resumo do Fluxo Mobile:

UsuÃ¡rio acessa o Step (ex.: StepA1) no mobile.

Encontra no topo um botÃ£o dropdown:
Mostra progresso e tÃ­tulo (ou â€œResumo e detalhesâ€ no StepA0).

Ao abrir:
Mostra o MenuSidebar (versÃ£o mobile) e o sideContent do passo.

ConteÃºdo principal do formulÃ¡rio permanece logo abaixo.

Auclan, aqui estÃ¡ exatamente o planejamento original que vocÃª descreveu antes, resgatado fielmente.

Quer que agora eu te mostre apenas a estrutura HTML/React dos elementos do mobile para comeÃ§armos a testar no StepA1, sem mexer ainda na lÃ³gica desktop?


Copiar

Perfeito. Ã© isso mesmo. Agora por favor guarde bem esse planejamento e agora monte um planejamento do que voce vai criar em cada arquivo, por exmplo planejamento do que voce vai ajustar no arquivo MenuSidebar, o que vai ajustar no StepA1, o que vai ajustar no layoutmobile, com base no planejamento para termos uma execucao impecavel e sem erros da versao mobile do StepA1 compreendeu?


Entendi perfeitamente, Auclan âœ…

Agora que temos o planejamento original bem claro e fixado, vamos dar um passo mais tÃ©cnico e detalhar o que exatamente serÃ¡ alterado/criado em cada arquivo (MenuSidebar, StepA1HolderData, LayoutMobile) para que a execuÃ§Ã£o do mobile do StepA1 saia impecÃ¡vel e sem nenhum risco de quebrar o desktop.

Vou estruturar isso em um planejamento por arquivo, contemplando apenas as adaptaÃ§Ãµes necessÃ¡rias para que a versÃ£o mobile obedeÃ§a ao que pactuamos.

ğŸ“ Planejamento TÃ©cnico por Arquivo â€” ExecuÃ§Ã£o StepA1 Mobile
1ï¸âƒ£ MenuSidebar.tsx
Objetivo no Mobile:

Permitir que o MenuSidebar funcione dentro do dropdown do LayoutMobile, ocupando largura total, com mesma lista de passos e comportamentos jÃ¡ existentes, mas sem quebrar o desktop.

AÃ§Ãµes planejadas:

ğŸ”¹ Adicionar prop opcional isMobile: boolean (default false para manter desktop intacto).
ğŸ”¹ Ajustar o container principal:
Se isMobile for true, usar w-full em vez de w-[233px] e classes adaptadas para mobile (padding e gap menores).
ğŸ”¹ Manter exatamente a mesma lÃ³gica de renderizaÃ§Ã£o de botÃµes, incluindo currentStep, completedSteps e desabilitaÃ§Ã£o de passos futuros.
ğŸ”¹ NÃ£o alterar nada no fluxo de clique (onMenuClick).
Resultado esperado:

No desktop, nada muda. No mobile, ele se adapta visualmente para o espaÃ§o do dropdown.

2ï¸âƒ£ StepA1HolderData.tsx
Objetivo no Mobile:

Fornecer as novas props necessÃ¡rias para que ContractPlansLayout e, consequentemente, LayoutMobile possam exibir progresso e tÃ­tulo do step, alÃ©m de garantir que sideContent seja passado corretamente para uso no accordion do mobile.

AÃ§Ãµes planejadas:

ğŸ”¹ Declarar variÃ¡veis novas:
totalSteps â†’ valor fixo 6.
stepTitle â†’ string "Titular do plano" (StepA1).
ğŸ”¹ Passar essas novas props ao chamar ContractPlansLayout:
tsx
Copiar

  <ContractPlansLayout
    sideContent={sideContent}
    currentStep={currentStep}
    totalSteps={6}
    stepTitle="Titular do plano"
  >
    {mainContent}
  </ContractPlansLayout>
ğŸ”¹ NÃ£o alterar o mainContent atual do desktop (mantÃ©m 100% igual).
ğŸ”¹ Manter sideContent exatamente como hoje (PlanDetailsCard + IncludeBeneficiaryCard).
ğŸ”¹ Garantir que o currentStep jÃ¡ existente no contexto seja enviado corretamente.
Resultado esperado:

No mobile, LayoutMobile usarÃ¡ essas props para montar o dropdown conforme o planejamento original. No desktop, nÃ£o hÃ¡ nenhuma modificaÃ§Ã£o perceptÃ­vel.

3ï¸âƒ£ LayoutMobile.tsx
Objetivo no Mobile:

Incorporar a lÃ³gica de exibir no topo o botÃ£o dropdown que mostra progresso e tÃ­tulo (ou â€œResumo e detalhesâ€ no StepA0), e ao abrir renderiza MenuSidebar (mobile) + sideContent do Step vigente.

AÃ§Ãµes planejadas:

ğŸ”¹ Criar estado interno isDropdownOpen (false por padrÃ£o).
ğŸ”¹ Renderizar botÃ£o header do dropdown:
Se stepTitle for "Resumo e detalhes" (StepA0) â†’ Exibir somente esse texto + seta.
Caso contrÃ¡rio â†’ Exibir ${String(currentStep+1).padStart(2, '0')}/${String(totalSteps).padStart(2, '0')} passo ${currentStep+1} de ${totalSteps} na primeira linha, e stepTitle na segunda linha + seta.
ğŸ”¹ Ao clicar no botÃ£o â†’ alternar isDropdownOpen.
ğŸ”¹ Criar container condicional (accordion):
Renderizar <MenuSidebar isMobile onMenuClick={...} currentStep={...} completedSteps={...} />
Logo abaixo, renderizar sideContent sem modificaÃ§Ã£o.
Aplicar overflow-y-auto para rolagem interna.
ğŸ”¹ Controlar visibilidade apenas para mobile (se viewport â‰¤ breakpoint definido).
ğŸ”¹ Garantir que no desktop LayoutMobile nÃ£o seja usado e que a estrutura do layout tradicional continue.
Resultado esperado:

O dropdown no mobile se comporta exatamente como no planejamento original, mantendo o mesmo fluxo de navegaÃ§Ã£o e informaÃ§Ãµes jÃ¡ existentes no desktop.

4ï¸âƒ£ Testes e ValidaÃ§Ã£o
Desktop:
Abrir StepA1, verificar que layout e funcionamento estÃ£o 100% iguais ao atual.
Mobile:
No StepA1:
Ver botÃ£o dropdown com contador e tÃ­tulo corretos.
Abrir dropdown e ver tanto o MenuSidebar adaptado quanto o sideContent juntos.
Navegar entre passos usando MenuSidebar, verificando atualizaÃ§Ã£o do contador e tÃ­tulo.
No StepA0:
Ver dropdown apenas com texto â€œResumo e detalhesâ€ + seta.
Abrir e exibir apenas sideContent (conforme planejamento).
âœ… ConclusÃ£o:

Com esse plano por arquivo, conseguimos:

Isolar as mudanÃ§as de mobile sem impacto no desktop.
Preparar o StepA1 como modelo para replicar aos demais steps.
Controlar alta fidelidade ao planejamento original que vocÃª jÃ¡ validou.
Auclan, agora que temos o passo a passo dividido por arquivo, quer que eu jÃ¡ avance para escrever o cÃ³digo desses trÃªs arquivos (MenuSidebar, StepA1HolderData, LayoutMobile) do jeito que planejamos, comeÃ§ando sÃ³ pelo StepA1 no mobile?